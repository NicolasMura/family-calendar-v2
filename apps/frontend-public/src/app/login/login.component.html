<form [formGroup]="loginForm" novalidate>

  <mat-form-field appearance="legacy">
    <mat-label for="username">Email</mat-label>
    <input matInput type="text" formControlName="username" />
    <mat-hint *ngIf="!usernameInput?.value">Veuillez saisir votre email</mat-hint>
    <mat-error *ngIf="errorHandling('username', 'required')">
      Erreur: champ requis
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="legacy">
    <mat-label for="password">Password</mat-label>
    <input matInput [type]="hide ? 'password' : 'text'" formControlName="password" />
    <mat-icon matSuffix (click)="hide = !hide">{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
    <mat-error *ngIf="errorHandling('password', 'required')">
      Erreur: champ requis
    </mat-error>
  </mat-form-field>

  <button mat-flat-button color="primary" aria-label="login"
          (click)=login()
          [disabled]="!loginForm.valid || loginLoadingSpinner"
          [class.mc-spinner]="loginLoadingSpinner"
          class="submit">
    Se connecter
  </button>

  <mat-error *ngIf="loginError" class="login-error">
    Erreur : veuillez v√©rifier vos informations de connexion
  </mat-error>

</form>
